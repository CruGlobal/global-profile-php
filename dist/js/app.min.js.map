{"version":3,"sources":["global-profile.module.js","api/measurements/measurements.module.js","states/admin/admin.module.js","states/app/app.module.js","states/profile/profile.module.js","states/select-ministry/select-ministry.module.js","states/admin/add/add.module.js","states/admin/edit/edit.module.js","states/admin/import/import.module.js","states/profile/edit/edit.module.js","global-profile.config.js","common/file-reader.directive.js","common/offset.filter.js","common/settings.service.js","directives/_directives.js","api/measurements/countries.service.js","api/measurements/languages.service.js","api/measurements/ministries.service.js","api/measurements/profile.service.js","api/measurements/session.service.js","components/profile-form/profile-form.directive.js","states/admin/sidebar.controller.js","states/select-ministry/select-ministry.controller.js","states/admin/add/add.controller.js","states/admin/edit/edit.controller.js","states/admin/import/import.controller.js","states/profile/edit/edit.controller.js"],"names":[],"mappings":"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","file":"app.min.js","sourcesContent":["(function () {\n\t'use strict';\n\n\tangular.module( 'globalProfile', [\n\t\t// Dependencies\n\t\t'ui.router',\n\t\t'globalProfile.common.settingsService',\n\t\t'globalProfile.api.measurements',\n\t\t'angular-growl',\n\n\t\t// States\n\t\t'globalProfile.states.selectMinistry',\n\t\t'globalProfile.states.profile.edit',\n\t\t'globalProfile.states.admin.add',\n\t\t'globalProfile.states.admin.edit',\n\t\t'globalProfile.states.admin.import'\n\t] );\n})();\n","(function () {\n\t'use strict';\n\n\tangular.module( 'globalProfile.api.measurements', [\n\t\t// Dependencies\n\t\t'globalProfile.common.settingsService',\n\t\t'ngResource'\n\t] );\n\n})();\n","(function () {\n\t'use strict';\n\n\tangular\n\t\t.module( 'globalProfile.states.admin', [\n\t\t\t'ui.router',\n\t\t\t'globalProfile.states.profile',\n\t\t\t'globalProfile.api.measurements'\n\t\t] )\n\t\t.config( function ( $stateProvider ) {\n\t\t\t$stateProvider\n\t\t\t\t.state( 'admin', {\n\t\t\t\t\tparent:  'profile',\n\t\t\t\t\turl:     '/admin',\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\t'requiresLeader': function ( $q, isLeader ) {\n\t\t\t\t\t\t\tvar deferred = $q.defer();\n\t\t\t\t\t\t\tif ( isLeader ) deferred.resolve(); else deferred.reject( 'Not a Leader or Inherited Leader of the ministry.' );\n\t\t\t\t\t\t\treturn deferred.promise;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'people':         function ( $log, ministry, Profile ) {\n\t\t\t\t\t\t\treturn Profile.query( {ministry_id: ministry.ministry_id} ).$promise;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tviews:   {\n\t\t\t\t\t\t'@app':          {\n\t\t\t\t\t\t\ttemplateUrl: 'js/states/admin/admin.html'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'sidebar@admin': {\n\t\t\t\t\t\t\ttemplateUrl: 'js/states/admin/sidebar.html',\n\t\t\t\t\t\t\tcontroller:  'SidebarController'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t} );\n\n})();\n","(function () {\n\t'use strict';\n\n\tangular\n\t\t.module( 'globalProfile.states.app', [\n\t\t\t// Dependencies\n\t\t\t'ui.router',\n\t\t\t'globalProfile.api.measurements'\n\t\t] )\n\t\t.config( function ( $stateProvider, $urlRouterProvider ) {\n\n\t\t\t$urlRouterProvider.otherwise( '/' );\n\n\t\t\t$stateProvider.state( 'app', {\n\t\t\t\tabstract:    true,\n\t\t\t\turl:         '/',\n\t\t\t\ttemplateUrl: 'js/states/app/app.html',\n\t\t\t\tresolve:     {\n\t\t\t\t\t'session':    function ( $log, Session ) {\n\t\t\t\t\t\treturn Session.getSession();\n\t\t\t\t\t},\n\t\t\t\t\t'systems':    function ( $log, session, Ministries ) {\n\t\t\t\t\t\treturn Ministries.systems().$promise;\n\t\t\t\t\t},\n\t\t\t\t\t'ministries': function ( $log, session, Ministries ) {\n\t\t\t\t\t\treturn Ministries.whq().$promise;\n\t\t\t\t\t},\n\t\t\t\t\t'languages':  function ( $log, session, Languages ) {\n\t\t\t\t\t\treturn Languages.languages();\n\t\t\t\t\t},\n\t\t\t\t\t'countries':  function ( $log, session, Countries ) {\n\t\t\t\t\t\treturn Countries.countries();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n})();\n","(function () {\n\t'use strict';\n\n\tangular\n\t\t.module( 'globalProfile.states.profile', [\n\t\t\t'ui.router',\n\t\t\t'globalProfile.states.app',\n\t\t\t'globalProfile.api.measurements'\n\t\t] )\n\t\t.config( function ( $stateProvider ) {\n\t\t\t$stateProvider\n\t\t\t\t.state( 'profile', {\n\t\t\t\t\tparent:   'app',\n\t\t\t\t\tabstract: true,\n\t\t\t\t\turl:      '{min_code}',\n\t\t\t\t\tresolve:  {\n\t\t\t\t\t\t'ministry': function ( $log, $q, $state, $stateParams, session, systems ) {\n\t\t\t\t\t\t\tvar deferred = $q.defer();\n\t\t\t\t\t\t\t// Unknown min_code\n\t\t\t\t\t\t\tif ( angular.isUndefined( $stateParams.min_code ) || $stateParams.min_code === '' ) {\n\t\t\t\t\t\t\t\t$state.transitionTo( 'selectMinistry' );\n\t\t\t\t\t\t\t\tdeferred.reject();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar ministry = _.findWhere( systems, {min_code: $stateParams.min_code} );\n\n\t\t\t\t\t\t\t\t// Ministry is not a valid Global Profile system\n\t\t\t\t\t\t\t\tif ( angular.isUndefined( ministry ) ) {\n\t\t\t\t\t\t\t\t\t$state.transitionTo( 'selectMinistry' );\n\t\t\t\t\t\t\t\t\tdeferred.reject();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tdeferred.resolve( ministry );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn deferred.promise;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'isLeader': function ( $log, session, ministry ) {\n\t\t\t\t\t\t\tvar flatten = function ( a, prop ) {\n\t\t\t\t\t\t\t\tvar items = [];\n\t\t\t\t\t\t\t\tangular.forEach( a, function ( item ) {\n\t\t\t\t\t\t\t\t\titems.push( item );\n\t\t\t\t\t\t\t\t\tif ( item.hasOwnProperty( prop ) && angular.isArray( item[prop] ) ) {\n\t\t\t\t\t\t\t\t\t\titems = items.concat( flatten( item[prop], prop ) );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\treturn items;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tvar assignments = _.where( flatten( session.assignments, 'sub_ministries' ), {ministry_id: ministry.ministry_id} ),\n\t\t\t\t\t\t\t\troles       = _.pluck( assignments, 'team_role' );\n\t\t\t\t\t\t\treturn _.contains( roles, 'leader' )\n\t\t\t\t\t\t\t\t|| _.contains( roles, 'inherited_leader' )\n\t\t\t\t\t\t\t\t|| _.contains( roles, 'admin' )\n\t\t\t\t\t\t\t\t|| _.contains( roles, 'inherited_admin' );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tviews:    {\n\t\t\t\t\t\t'title@app': {\n\t\t\t\t\t\t\tcontroller: function ( $scope, ministry ) {\n\t\t\t\t\t\t\t\t$scope.ministry = ministry;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplate:   '{{ministry.name}}'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t} );\n\n})();\n","(function () {\n\t'use strict';\n\n\tangular\n\t\t.module( 'globalProfile.states.selectMinistry', [\n\t\t\t'ui.router',\n\t\t\t'ui.bootstrap',\n\t\t\t'globalProfile.states.app'\n\t\t] )\n\t\t.config( function ( $stateProvider ) {\n\t\t\t$stateProvider\n\t\t\t\t.state( 'selectMinistry', {\n\t\t\t\t\tparent:      'app',\n\t\t\t\t\turl:         '',\n\t\t\t\t\ttemplateUrl: 'js/states/select-ministry/select-ministry.html',\n\t\t\t\t\tcontroller:  'SelectMinistryController'\n\t\t\t\t} );\n\t\t} );\n})();\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module( 'globalProfile.states.admin.add', [\r\n\t\t\t'ui.router',\r\n\t\t\t'ui.bootstrap.modal',\r\n\t\t\t'globalProfile.states.admin',\r\n\t\t\t'globalProfile.api.measurements',\r\n\t\t\t'globalProfile.components.profileFormDirective'\r\n\t\t] )\r\n\t\t.config( function ( $stateProvider ) {\r\n\t\t\t$stateProvider\r\n\t\t\t\t.state( 'admin.add', {\r\n\t\t\t\t\turl:     '/add',\r\n\t\t\t\t\tresolve: {\r\n\t\t\t\t\t\t'profile': function ( $log, Profile ) {\r\n\t\t\t\t\t\t\treturn Profile.defaultProfile();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tviews:   {\r\n\t\t\t\t\t\t'content@admin': {\r\n\t\t\t\t\t\t\ttemplateUrl: 'js/states/admin/add/add.html',\r\n\t\t\t\t\t\t\tcontroller:  'AddProfileController'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t} );\r\n\r\n})();\r\n","(function () {\n\t'use strict';\n\n\tangular\n\t\t.module( 'globalProfile.states.admin.edit', [\n\t\t\t'ui.router',\n\t\t\t'ui.bootstrap.modal',\n\t\t\t'globalProfile.states.admin',\n\t\t\t'globalProfile.components.profileFormDirective'\n\t\t] )\n\t\t.config( function ( $stateProvider ) {\n\t\t\t$stateProvider\n\t\t\t\t.state( 'admin.edit', {\n\t\t\t\t\turl:     '/{person_ID:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}}',\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\t// person_ID must be in the list of people\n\t\t\t\t\t\t'profile':    function ( $log, $q, $stateParams, people ) {\n\t\t\t\t\t\t\tvar deferred = $q.defer();\n\t\t\t\t\t\t\tif ( angular.isUndefined( $stateParams.person_ID ) || $stateParams.person_ID === '' ) {\n\t\t\t\t\t\t\t\tdeferred.reject( 'Missing or Invalid person_id' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar profile = _.findWhere( people, {person_id: $stateParams.person_ID} );\n\t\t\t\t\t\t\t\tif ( angular.isUndefined( profile ) ) {\n\t\t\t\t\t\t\t\t\t$state.go( 'admin.new' );\n\t\t\t\t\t\t\t\t\tdeferred.reject();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tdeferred.resolve( profile );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn deferred.promise;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tviews:   {\n\t\t\t\t\t\t'content@admin': {\n\t\t\t\t\t\t\ttemplateUrl: 'js/states/admin/edit/edit.html',\n\t\t\t\t\t\t\tcontroller:  'EditProfileController'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t} );\n\n})();\n","(function () {\n\t'use strict';\n\n\tangular\n\t\t.module( 'globalProfile.states.admin.import', [\n\t\t\t'ui.router',\n\t\t\t'globalProfile.states.admin',\n\t\t\t'globalProfile.common.fileReaderDirective',\n\t\t\t'globalProfile.common.offsetFilter'\n\t\t] )\n\t\t.config( function ( $stateProvider ) {\n\t\t\t$stateProvider\n\t\t\t\t.state( 'admin.import', {\n\t\t\t\t\turl:     '/import',\n\t\t\t\t\tresolve: {},\n\t\t\t\t\tviews:   {\n\t\t\t\t\t\t'@app': {\n\t\t\t\t\t\t\ttemplateUrl: 'js/states/admin/import/import.html',\n\t\t\t\t\t\t\tcontroller:  'ImportCSVController'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t} );\n\n})();\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module( 'globalProfile.states.profile.edit', [\r\n\t\t\t'ui.router',\r\n\t\t\t'ui.bootstrap.modal',\r\n\t\t\t'globalProfile.states.profile',\r\n\t\t\t'globalProfile.api.measurements',\r\n\t\t\t'globalProfile.components.profileFormDirective'\r\n\t\t] )\r\n\t\t.config( function ( $stateProvider ) {\r\n\t\t\t$stateProvider\r\n\t\t\t\t.state( 'edit', {\r\n\t\t\t\t\tparent:  'profile',\r\n\t\t\t\t\turl:     '',\r\n\t\t\t\t\tresolve: {\r\n\t\t\t\t\t\t'profile': function ( $log, $q, session, ministry, Profile ) {\r\n\t\t\t\t\t\t\tvar deferred = $q.defer();\r\n\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t\t\t.get( {\r\n\t\t\t\t\t\t\t\t\tperson_id:   session.user.person_id,\r\n\t\t\t\t\t\t\t\t\tministry_id: ministry.ministry_id\r\n\t\t\t\t\t\t\t\t}, function ( profile ) {\r\n\t\t\t\t\t\t\t\t\tdeferred.resolve( profile );\r\n\t\t\t\t\t\t\t\t}, function ( response ) {\r\n\t\t\t\t\t\t\t\t\t// Profile not found for current user\r\n\t\t\t\t\t\t\t\t\tif ( response.status === 404 ) {\r\n\t\t\t\t\t\t\t\t\t\t// Build new profile based on session.user attributes\r\n\t\t\t\t\t\t\t\t\t\tvar user = session.user,\r\n\t\t\t\t\t\t\t\t\t\t\tprops = ['key_username', 'key_guid', 'first_name', 'last_name', 'person_id'],\r\n\t\t\t\t\t\t\t\t\t\t\tprofile = Profile.defaultProfile();\r\n\t\t\t\t\t\t\t\t\t\tangular.forEach( props, function ( property ) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Change key_username to email\r\n\t\t\t\t\t\t\t\t\t\t\tthis[property === 'key_username' ? 'email' : property] = user.hasOwnProperty( property ) ? user[property] : '';\r\n\t\t\t\t\t\t\t\t\t\t}, profile );\r\n\t\t\t\t\t\t\t\t\t\tdeferred.resolve( profile );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tdeferred.reject( response );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\treturn deferred.promise;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tviews:   {\r\n\t\t\t\t\t\t'@app': {\r\n\t\t\t\t\t\t\ttemplateUrl: 'js/states/profile/edit/edit.html',\r\n\t\t\t\t\t\t\tcontroller:  'EditPersonalProfileController'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'navigation@app' : {\r\n\t\t\t\t\t\t\tcontroller: function( $scope, isLeader ) {\r\n\t\t\t\t\t\t\t\t$scope.isLeader = isLeader;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttemplate: '<button type=\"button\" class=\"btn btn-sm btn-danger\" ng-if=\"isLeader\" ui-sref=\"admin\">Administrator</button>'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} )\r\n\r\n\t\t} );\r\n})();\r\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.config( function ( $locationProvider ) {\n\t\t$locationProvider.html5Mode( true );\n\t} );\n\n\t// Initialize Application Settings\n\tmodule.config( function ( SettingsProvider ) {\n\t\tSettingsProvider.setConfig( window.globalProfile.config );\n\t} );\n\n\tmodule.config( function ( $logProvider, SettingsProvider ) {\n\t\t$logProvider.debugEnabled( SettingsProvider.isDebug() );\n\t} );\n\n\t// Configure HTTP interceptors\n\tmodule.config( function ( $httpProvider ) {\n\t\t$httpProvider.interceptors.push( 'Session' );\n\t} );\n\n\t// Configure Growl\n\tmodule.config( function ( growlProvider ) {\n\t\tgrowlProvider.globalPosition( 'top-right' );\n\t\tgrowlProvider.globalDisableCountDown( true );\n\t\tgrowlProvider.globalTimeToLive( {success: 10000, error: -1, warning: -1, info: 10000} );\n\t} );\n\n})( angular.module( 'globalProfile' ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule\n\t\t.directive( 'fileReader', [function () {\n\t\t\treturn {\n\t\t\t\trestrict: 'A',\n\t\t\t\tscope:    {\n\t\t\t\t\tfileReader: '='\n\t\t\t\t},\n\t\t\t\tlink:     function ( $scope, $element, $attrs ) {\n\t\t\t\t\t$element.on( 'change', function ( event ) {\n\t\t\t\t\t\t$scope.$apply( function () {\n\t\t\t\t\t\t\t$scope.fileReader = event.target.files[0];\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}] );\n\n})( angular.module( 'globalProfile.common.fileReaderDirective', [] ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule\n\t\t.filter( 'offset', function () {\n\t\t\treturn function ( input, start ) {\n\t\t\t\tif ( angular.isUndefined( input ) ) return;\n\t\t\t\tstart = parseInt( start, 10 );\n\t\t\t\treturn input.slice( start );\n\t\t\t};\n\t\t} );\n\n})( angular.module( 'globalProfile.common.offsetFilter', [] ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.provider( 'Settings', function () {\n\t\tvar config = {};\n\n\t\tthis.setConfig = function ( c ) {\n\t\t\tconfig = c;\n\t\t};\n\n\t\tthis.isDebug = function () {\n\t\t\treturn config.environment === 'development';\n\t\t};\n\n\t\tfunction apiUrl( base, path ) {\n\t\t\tif ( typeof path === 'undefined' ) return base;\n\t\t\treturn ( path.indexOf( '/' ) === 0 )\n\t\t\t\t? base + path\n\t\t\t\t: base + '/' + path;\n\t\t}\n\n\t\tthis.$get = function () {\n\t\t\treturn {\n\t\t\t\tapi:    {\n\t\t\t\t\tmeasurements: function ( path ) {\n\t\t\t\t\t\treturn apiUrl( config.api.measurements, path );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tticket: config.ticket\n\t\t\t};\n\t\t}\n\t} );\n})( angular.module( 'globalProfile.common.settingsService', [] ) );\n","(function ( angular ) {\n\t'use strict';\n\tangular.module( 'globalProfile.directives', [] );\n})( angular );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.factory( 'Countries', function ( $log, $http, Settings ) {\n\t\treturn {\n\t\t\tcountries: function () {\n\t\t\t\treturn $http.get( Settings.api.measurements( '/iso_countries' ), {\n\t\t\t\t\tcache: true\n\t\t\t\t} ).then( function ( response ) {\n\t\t\t\t\tif ( angular.isArray( response.data ) ) {\n\t\t\t\t\t\treturn response.data;\n\t\t\t\t\t}\n\t\t\t\t\tvar countries = [];\n\t\t\t\t\tangular.forEach( response.data, function ( value, key ) {\n\t\t\t\t\t\tthis.push( {\n\t\t\t\t\t\t\tiso3: key,\n\t\t\t\t\t\t\tname: value\n\t\t\t\t\t\t} );\n\t\t\t\t\t}, countries );\n\t\t\t\t\treturn countries;\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\t} );\n})( angular.module( 'globalProfile.api.measurements' ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.factory( 'Languages', function ( $log, $http, Settings ) {\n\t\treturn {\n\t\t\tlanguages: function () {\n\t\t\t\treturn $http.get( Settings.api.measurements( '/languages' ), {\n\t\t\t\t\tcache: true\n\t\t\t\t} ).then( function ( response ) {\n\t\t\t\t\treturn response.data;\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\t} );\n})( angular.module( 'globalProfile.api.measurements' ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.factory( 'Ministries', function ( $log, $resource, Settings ) {\n\t\treturn $resource( Settings.api.measurements( '/ministries/:ministry_id' ), {}, {\n\t\t\t'systems': {method: 'GET', isArray: true, params: {global_profile_only: 'true'}, cache: true},\n\t\t\t'whq':     {method: 'GET', isArray: true, params: {whq_only: 'true', show_inactive: 'true'}, cache: true},\n\t\t\t'query':   {method: 'GET', isArray: true}\n\t\t} );\n\t} );\n\n})( angular.module( 'globalProfile.api.measurements' ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.factory( 'Profile', function ( $log, $resource, Settings ) {\n\t\tvar normalizeProfile = function ( profile ) {\n\t\t\t\t// Language\n\t\t\t\tif ( angular.isUndefined( profile.language ) ) {\n\t\t\t\t\tprofile.language = [];\n\t\t\t\t} else if ( angular.isString( profile.language ) ) {\n\t\t\t\t\tprofile.language = [profile.language];\n\t\t\t\t}\n\n\t\t\t\t//Assignments\n\t\t\t\tif ( angular.isUndefined( profile.assignments ) ) {\n\t\t\t\t\tprofile.assignments = [{}];\n\t\t\t\t}\n\n\t\t\t\treturn profile;\n\t\t\t},\n\t\t\tnormalizeProfileRequest = function ( profile, headersGetter ) {\n\t\t\t\tangular.forEach( profile, function ( value, key ) {\n\t\t\t\t\tif ( angular.isUndefined( value ) || value === null ) {\n\t\t\t\t\t\tdelete profile[key];\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn angular.isObject( profile ) ? angular.toJson( profile ) : profile;\n\t\t\t},\n\t\t\tapi = $resource( Settings.api.measurements( '/people/:person_id' ), {\n\t\t\t\tperson_id:   '@person_id',\n\t\t\t\tministry_id: '@ministry_id'\n\t\t\t}, {\n\t\t\t\tget:    {\n\t\t\t\t\tmethod: 'GET', interceptor: {\n\t\t\t\t\t\tresponse: function ( response ) {\n\t\t\t\t\t\t\treturn normalizeProfile( response.resource );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tquery:  {\n\t\t\t\t\tmethod: 'GET', isArray: true, interceptor: {\n\t\t\t\t\t\tresponse: function ( response ) {\n\t\t\t\t\t\t\treturn angular.forEach( response.resource, normalizeProfile );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcreate: {method: 'POST', transformRequest: normalizeProfileRequest},\n\t\t\t\tupdate: {method: 'PUT', transformRequest: normalizeProfileRequest}\n\t\t\t} );\n\t\tapi.defaultProfile = function () {\n\t\t\treturn normalizeProfile( {\n\t\t\t\tis_secure: false\n\t\t\t} );\n\t\t};\n\t\treturn api;\n\t} );\n})( angular.module( 'globalProfile.api.measurements' ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.factory( 'Session', function ( $injector, $q, $log, Settings ) {\n\t\tvar token,\n\t\t\tsession;\n\n\t\treturn {\n\t\t\tgetSession:    function () {\n\t\t\t\tvar deferred = $q.defer();\n\t\t\t\tif ( angular.isDefined( session ) ) {\n\t\t\t\t\tdeferred.resolve( session );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$injector.get( '$http' )\n\t\t\t\t\t\t.get( Settings.api.measurements( '/token' ), {params: {st: Settings.ticket}} )\n\t\t\t\t\t\t.then( function ( response ) {\n\t\t\t\t\t\t\ttoken = response.data.session_ticket;\n\t\t\t\t\t\t\tsession = response.data;\n\t\t\t\t\t\t\tdeferred.resolve( session );\n\t\t\t\t\t\t}, function ( reason ) {\n\t\t\t\t\t\t\tdeferred.reject( reason );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\treturn deferred.promise;\n\t\t\t},\n\t\t\trequest:       function ( config ) {\n\t\t\t\tif ( config.url.indexOf( Settings.api.measurements() ) === 0 ) {\n\t\t\t\t\t$log.debug( 'Measurements API Request', config );\n\n\t\t\t\t\t// Enable HTTP Credentials for measurements API requests\n\t\t\t\t\tconfig.withCredentials = true;\n\n\t\t\t\t\t// Add token to request as Authorization Bearer\n\t\t\t\t\tif ( !angular.isUndefined( token ) ) {\n\t\t\t\t\t\tconfig.headers['Authorization'] = 'Bearer ' + token;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn config;\n\t\t\t},\n\t\t\tresponseError: function ( response ) {\n\t\t\t\treturn $q.reject( response );\n\t\t\t}\n\t\t}\n\t} );\n})( angular.module( 'globalProfile.api.measurements' ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule\n\t\t.directive( 'profileForm', ['$log', 'Languages', 'Countries', 'Ministries', function ( $log, Languages, Countries, Ministries ) {\n\t\t\tvar defaultRequiredFields = [\n\t\t\t\t'email',\n\t\t\t\t'last_name',\n\t\t\t\t'first_name',\n\t\t\t\t'gender',\n\t\t\t\t'birth_date',\n\t\t\t\t'marital_status',\n\t\t\t\t'country_of_residence',\n\t\t\t\t'language1',\n\t\t\t\t'organizational_status',\n\t\t\t\t'funding_source',\n\t\t\t\t'date_joined_staff',\n\t\t\t\t'ministry_of_employment',\n\t\t\t\t'assignment_ministry',\n\t\t\t\t'mcc',\n\t\t\t\t'position_role',\n\t\t\t\t'scope'\n\t\t\t];\n\t\t\treturn {\n\t\t\t\trestrict:    'E',\n\t\t\t\trequire:     ['^ngModel'],\n\t\t\t\tscope:       {\n\t\t\t\t\tprofile:        '=ngModel',\n\t\t\t\t\trequiredFields: '=?profileRequiredFields',\n\t\t\t\t\tministries:     '=profileMinistries',\n\t\t\t\t\tlanguages:      '=profileLanguages',\n\t\t\t\t\tcountries:      '=profileCountries'\n\t\t\t\t},\n\t\t\t\ttemplateUrl: 'js/components/profile-form/profile-form.html',\n\t\t\t\ttransclude:  true,\n\t\t\t\tlink:        function ( $scope, $element, $attrs ) {\n\t\t\t\t\t$scope.showHelp = angular.isUndefined( $attrs.profileShowHelp ) ? true : $scope.$eval( $attrs.profileShowHelp ) === true;\n\t\t\t\t\t$scope.showPrivacy = $scope.$eval( $attrs.profileShowPrivacy ) === true;\n\t\t\t\t\t$scope.showLeftStaff = $scope.$eval( $attrs.profileShowLeftStaff ) === true;\n\n\t\t\t\t\tif ( angular.isUndefined( $attrs.profileRequiredFields ) ) {\n\t\t\t\t\t\t$scope.requiredFields = defaultRequiredFields;\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.isRequired = function ( name ) {\n\t\t\t\t\t\treturn $scope.requiredFields.indexOf( name ) > -1;\n\t\t\t\t\t};\n\n\t\t\t\t\t$scope.$watch( 'profile.organizational_status', function ( organizational_status, oldVal ) {\n\t\t\t\t\t\tif ( angular.isUndefined( organizational_status ) || organizational_status == 'Volunteer' || organizational_status == 'Other' ) {\n\t\t\t\t\t\t\t$scope.showStaffDates = false;\n\t\t\t\t\t\t\t$scope.requiredFields = _.without( $scope.requiredFields, 'date_joined_staff' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t$scope.showStaffDates = true;\n\t\t\t\t\t\t\tif ( _.indexOf( $scope.requiredFields, 'date_joined_staff' ) === -1 ) {\n\t\t\t\t\t\t\t\t$scope.requiredFields.push( 'date_joined_staff' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t$scope.$watch( 'profile.organizational_status', function ( organizational_status, oldVal ) {\n\t\t\t\t\t\tif ( $scope.profile.funding_source === 'Other' ) return;\n\t\t\t\t\t\tif ( angular.isUndefined( organizational_status ) || organizational_status == 'Volunteer' ) {\n\t\t\t\t\t\t\t$scope.showEmploymentMinistry = false;\n\t\t\t\t\t\t\t$scope.requiredFields = _.without( $scope.requiredFields, 'ministry_of_employment' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t$scope.showEmploymentMinistry = true;\n\t\t\t\t\t\t\tif ( _.indexOf( $scope.requiredFields, 'ministry_of_employment' ) === -1 ) {\n\t\t\t\t\t\t\t\t$scope.requiredFields.push( 'ministry_of_employment' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t$scope.$watch( 'profile.funding_source', function ( funding_source, oldVal ) {\n\t\t\t\t\t\tif ( $scope.profile.organizational_status === 'Volunteer' ) return;\n\t\t\t\t\t\tif ( angular.isUndefined( funding_source ) || funding_source == 'Other' ) {\n\t\t\t\t\t\t\t$scope.showEmploymentMinistry = false;\n\t\t\t\t\t\t\t$scope.requiredFields = _.without( $scope.requiredFields, 'ministry_of_employment' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t$scope.showEmploymentMinistry = true;\n\t\t\t\t\t\t\tif ( _.indexOf( $scope.requiredFields, 'ministry_of_employment' ) === -1 ) {\n\t\t\t\t\t\t\t\t$scope.requiredFields.push( 'ministry_of_employment' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t$scope.formatMinistryLabel = function ( ministry_id ) {\n\t\t\t\t\t\tfor ( var i = 0; i < $scope.ministries.length; i++ ) {\n\t\t\t\t\t\t\tif ( ministry_id === $scope.ministries[i].ministry_id ) {\n\t\t\t\t\t\t\t\treturn (angular.isUndefined( $scope.ministries[i].area_code ) ? 'GLBL' : $scope.ministries[i].area_code) + ' â€” ' + $scope.ministries[i].name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t$scope.formatCountryLabel = function ( iso3 ) {\n\t\t\t\t\t\tfor ( var i = 0; i < $scope.countries.length; i++ ) {\n\t\t\t\t\t\t\tif ( iso3 === $scope.countries[i].iso3 ) {\n\t\t\t\t\t\t\t\treturn $scope.countries[i].name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}] );\n\n})( angular.module( 'globalProfile.components.profileFormDirective', [\n\t'globalProfile.api.measurements'\n] ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule\n\t\t.controller( 'SidebarController', function ( $log, $scope, $state, people ) {\n\t\t\t$scope.$state = $state;\n\t\t\t$scope.people = people;\n\t\t\t$scope.filterText = '';\n\n\t\t\t$scope.clearFilter = function () {\n\t\t\t\t$scope.filterText = '';\n\t\t\t}\n\t\t} );\n\n})( angular.module( 'globalProfile.states.admin' ) );\n","(function ( module ) {\n\t'use strict';\n\n\tmodule.controller( 'SelectMinistryController', function ( $log, $scope, $state, session, systems ) {\n\t\tfunction flatten( a, prop ) {\n\t\t\tvar items = [];\n\t\t\tangular.forEach( a, function ( item ) {\n\t\t\t\titems.push( item );\n\t\t\t\tif ( item.hasOwnProperty( prop ) && angular.isArray( item[prop] ) ) {\n\t\t\t\t\titems = items.concat( flatten( item[prop], prop ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn items;\n\t\t}\n\n\t\tvar assignments = flatten( session.assignments, 'sub_ministries' );\n\n\t\t$scope.$state = $state;\n\t\t$scope.ministries = systems;\n\n\t\t$scope.isLeader = function ( ministry_id ) {\n\t\t\tvar roles = _.pluck( _.where( assignments, {ministry_id: ministry_id} ), 'team_role' );\n\t\t\treturn _.contains( roles, 'leader' ) || _.contains( roles, 'inherited_leader' );\n\t\t};\n\t} );\n\n})( angular.module( 'globalProfile.states.selectMinistry' ) );\n","(function ( module ) {\r\n\t'use strict';\r\n\r\n\tmodule\r\n\t\t.controller( 'AddProfileController', function ( $log, $scope, $modal, $state, profile, ministry, Profile, ministries, countries, languages, growl ) {\r\n\t\t\t$scope.$state = $state;\r\n\t\t\t$scope.requiredFields = [\r\n\t\t\t\t'email',\r\n\t\t\t\t'last_name',\r\n\t\t\t\t'first_name',\r\n\t\t\t\t'gender',\r\n\t\t\t\t'birth_date',\r\n\t\t\t\t'marital_status',\r\n\t\t\t\t'country_of_residence',\r\n\t\t\t\t'language1',\r\n\t\t\t\t'organizational_status',\r\n\t\t\t\t'funding_source',\r\n\t\t\t\t'date_joined_staff',\r\n\t\t\t\t'ministry_of_employment',\r\n\t\t\t\t'assignment_ministry',\r\n\t\t\t\t'mcc',\r\n\t\t\t\t'position_role',\r\n\t\t\t\t'scope'\r\n\t\t\t];\r\n\t\t\t$scope.profile = angular.copy( profile );\r\n\t\t\t$scope.ministries = ministries;\r\n\t\t\t$scope.countries = countries;\r\n\t\t\t$scope.languages = languages;\r\n\r\n\t\t\t$scope.resetForm = function () {\r\n\t\t\t\t$scope.profile = angular.copy( profile );\r\n\t\t\t};\r\n\r\n\t\t\t$scope.saveProfile = function () {\r\n\t\t\t\tProfile.create( {ministry_id: ministry.ministry_id}, $scope.profile, function ( result ) {\r\n\t\t\t\t\t$scope.profileForm.$setPristine();\r\n\r\n\t\t\t\t\tgrowl.success( 'Profile successfully saved.' );\r\n\r\n\t\t\t\t\t$state.go( 'admin.edit', {person_ID: result.person_id}, {reload: true} );\r\n\t\t\t\t}, function () {\r\n\t\t\t\t\t$modal.open( {\r\n\t\t\t\t\t\ttemplateUrl: 'js/states/admin/error.modal.html',\r\n\t\t\t\t\t\tsize:        'sm',\r\n\t\t\t\t\t\tcontroller:  function ( $scope, $modalInstance ) {\r\n\t\t\t\t\t\t\t$scope.ok = function () {\r\n\t\t\t\t\t\t\t\t$modalInstance.close();\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t};\r\n\r\n\t\t\t$scope.$on( '$stateChangeStart', function ( event, toState, toParams, fromState, fromParams ) {\r\n\t\t\t\tif ( $scope.profileForm.$dirty ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t$modal.open( {\r\n\t\t\t\t\t\ttemplateUrl: 'js/states/admin/unsaved.modal.html',\r\n\t\t\t\t\t\tcontroller:  function ( $scope, $modalInstance ) {\r\n\t\t\t\t\t\t\t$scope.save = function () {\r\n\t\t\t\t\t\t\t\t$modalInstance.close();\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t$scope.cancel = function () {\r\n\t\t\t\t\t\t\t\t$modalInstance.dismiss( 'discard' );\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} ).result.then( function () {\r\n\t\t\t\t\t\t}, function ( action ) {\r\n\t\t\t\t\t\t\tif ( action === 'discard' ) {\r\n\t\t\t\t\t\t\t\t$scope.profileForm.$setPristine();\r\n\t\t\t\t\t\t\t\t$state.transitionTo( toState, toParams );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\r\n})( angular.module( 'globalProfile.states.admin.add' ) );\r\n","(function ( module ) {\r\n\t'use strict';\r\n\r\n\tmodule\r\n\t\t.controller( 'EditProfileController', function ( $log, $scope, $state, profile, ministry, Profile, $modal, ministries, countries, languages, growl ) {\r\n\t\t\t$scope.$state = $state;\r\n\t\t\t$scope.requiredFields = [\r\n\t\t\t\t'email',\r\n\t\t\t\t'last_name',\r\n\t\t\t\t'first_name',\r\n\t\t\t\t'gender',\r\n\t\t\t\t'birth_date',\r\n\t\t\t\t'marital_status',\r\n\t\t\t\t'country_of_residence',\r\n\t\t\t\t'language1',\r\n\t\t\t\t'organizational_status',\r\n\t\t\t\t'funding_source',\r\n\t\t\t\t'date_joined_staff',\r\n\t\t\t\t'ministry_of_employment',\r\n\t\t\t\t'assignment_ministry',\r\n\t\t\t\t'mcc',\r\n\t\t\t\t'position_role',\r\n\t\t\t\t'scope'\r\n\t\t\t];\r\n\t\t\t$scope.profile = angular.copy( profile );\r\n\t\t\t$scope.ministries = ministries;\r\n\t\t\t$scope.countries = countries;\r\n\t\t\t$scope.languages = languages;\r\n\r\n\t\t\t$scope.resetForm = function () {\r\n\t\t\t\t$scope.profile = angular.copy( profile );\r\n\t\t\t\t$scope.profileForm.$setPristine();\r\n\t\t\t};\r\n\r\n\t\t\t$scope.saveChanges = function () {\r\n\t\t\t\tProfile.update( {ministry_id: ministry.ministry_id}, $scope.profile, function ( result ) {\r\n\t\t\t\t\t// Success\r\n\t\t\t\t\tgrowl.success( 'Profile successfully saved.' );\r\n\t\t\t\t\tprofile = result;\r\n\t\t\t\t\t$scope.profile = angular.copy( profile );\r\n\t\t\t\t\t$scope.profileForm.$setPristine();\r\n\t\t\t\t}, function () {\r\n\t\t\t\t\t// Error\r\n\t\t\t\t\t$modal.open( {\r\n\t\t\t\t\t\ttemplateUrl: 'js/states/admin/error.modal.html',\r\n\t\t\t\t\t\tsize:        'sm',\r\n\t\t\t\t\t\tcontroller:  function ( $scope, $modalInstance ) {\r\n\t\t\t\t\t\t\t$scope.ok = function () {\r\n\t\t\t\t\t\t\t\t$modalInstance.close();\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t};\r\n\r\n\t\t\t$scope.$on( '$stateChangeStart', function ( event, toState, toParams, fromState, fromParams ) {\r\n\t\t\t\tif ( $scope.profileForm.$dirty ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t$modal.open( {\r\n\t\t\t\t\t\ttemplateUrl: 'js/states/admin/unsaved.modal.html',\r\n\t\t\t\t\t\tcontroller:  function ( $scope, $modalInstance ) {\r\n\t\t\t\t\t\t\t$scope.save = function () {\r\n\t\t\t\t\t\t\t\t$modalInstance.close();\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t$scope.cancel = function () {\r\n\t\t\t\t\t\t\t\t$modalInstance.dismiss( 'discard' );\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} ).result.then( function () {\r\n\t\t\t\t\t\t}, function ( action ) {\r\n\t\t\t\t\t\t\tif ( action === 'discard' ) {\r\n\t\t\t\t\t\t\t\t$scope.profileForm.$setPristine();\r\n\t\t\t\t\t\t\t\t$state.transitionTo( toState, toParams );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\r\n})( angular.module( 'globalProfile.states.admin.edit' ) );\r\n","(function ( module ) {\n\t'use strict';\n\n\tmodule\n\t\t.controller( 'ImportCSVController', function ( $log, $scope, $state, ministry, Profile ) {\n\t\t\t$scope.$state = $state;\n\t\t\t$scope.hasHeader = true;\n\t\t\t$scope.columns = [];\n\t\t\t$scope.pager = {\n\t\t\t\tpage:  1,\n\t\t\t\tbegin: 0\n\t\t\t};\n\n\t\t\t$scope.browse = function () {\n\t\t\t\tdocument.getElementById( 'fileBrowser' ).click();\n\t\t\t};\n\n\t\t\t$scope.$watch( 'file', function ( file ) {\n\t\t\t\tif ( angular.isUndefined( file ) ) return;\n\t\t\t\tparseCSV();\n\t\t\t} );\n\n\t\t\t$scope.$watch( 'hasHeader', function ( hasHeader ) {\n\t\t\t\tparseCSV();\n\t\t\t} );\n\n\t\t\t$scope.$watch( 'pager.page', function ( page ) {\n\t\t\t\tif ( angular.isUndefined( $scope.csv ) ) return;\n\t\t\t\t$scope.pager.begin = (page - 1) * 10;\n\t\t\t} );\n\n\t\t\tfunction parseCSV() {\n\t\t\t\tif ( angular.isUndefined( $scope.file ) ) return;\n\t\t\t\tif ( angular.isUndefined( $scope.hasHeader ) ) return;\n\n\t\t\t\tPapa.parse( $scope.file, {\n\t\t\t\t\theader:   false, // We remove first row manually if hasHeader is true\n\t\t\t\t\tcomplete: function ( results, file ) {\n\t\t\t\t\t\tvar columns = [];\n\t\t\t\t\t\t$scope.$apply( function () {\n\t\t\t\t\t\t\tif ( $scope.hasHeader ) {\n\t\t\t\t\t\t\t\t$scope.headerRow = results.data.shift();\n\t\t\t\t\t\t\t\tfor ( var i = 0; i < $scope.headerRow.length; i++ )\n\t\t\t\t\t\t\t\t\tcolumns.push( {index: i} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdelete $scope.headerRow;\n\t\t\t\t\t\t\t\tfor ( var i = 0; i < results.data[0].length; i++ )\n\t\t\t\t\t\t\t\t\tcolumns.push( {index: i} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$scope.columns = columns;\n\t\t\t\t\t\t\t$scope.csv = results;\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t}\n\t\t} );\n\n})( angular.module( 'globalProfile.states.admin.import' ) );\n","(function ( module ) {\r\n\t'use strict';\r\n\r\n\tmodule.controller( 'EditPersonalProfileController', function ( $log, $scope, $modal, session, ministry, profile, Profile, ministries, countries, languages, growl ) {\r\n\t\t$scope.profile = angular.copy( profile );\r\n\t\t$scope.ministries = ministries;\r\n\t\t$scope.countries = countries;\r\n\t\t$scope.languages = languages;\r\n\r\n\t\t$scope.resetForm = function () {\r\n\t\t\t$scope.profile = angular.copy( profile );\r\n\t\t\t$scope.profileForm.$setPristine();\r\n\t\t};\r\n\r\n\t\t$scope.saveChanges = function () {\r\n\t\t\tvar method = angular.isUndefined( profile.id ) ? 'create' : 'update';\r\n\t\t\tProfile[method]( {ministry_id: ministry.ministry_id}, $scope.profile, function ( response ) {\r\n\t\t\t\t// Success\r\n\t\t\t\tgrowl.success( 'Profile successfully saved.' );\r\n\t\t\t\tprofile = response;\r\n\t\t\t\t$scope.profile = angular.copy( profile );\r\n\t\t\t\t$scope.profileForm.$setPristine();\r\n\t\t\t}, function() {\r\n\t\t\t\t// Error\r\n\t\t\t\t$modal.open( {\r\n\t\t\t\t\ttemplateUrl: 'js/states/admin/error.modal.html',\r\n\t\t\t\t\tsize:        'sm',\r\n\t\t\t\t\tcontroller:  function ( $scope, $modalInstance ) {\r\n\t\t\t\t\t\t$scope.ok = function () {\r\n\t\t\t\t\t\t\t$modalInstance.close();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t};\r\n\t} );\r\n})( angular.module( 'globalProfile.states.profile.edit' ) );\r\n"],"sourceRoot":"/source/"}